@import (reference) 'vars';

@fan-out_limit: 5;
@fan-out_offset: 180deg / (@fan-out_limit - 1);

.fan {
	display: flex;
	// display: none;
	align-items: flex-end;
	transform-origin: left 50%;
	width: 25%;
	bottom: 0;
	left: 50%;
	opacity: 0;

	&, .fan__inner {	
		transition-property: transform, opacity;
		transition-duration: 2s;
	}

	.fan--out & {
		opacity: 1;
		// display: flex;
	}
}

.generate_fans(@count: @fan-out_limit) when (@count > 0) {
	.generate_fans(@count - 1);

	.fan--out .fan:nth-child(@{count}) {
		transform: rotate(-@fan-out_offset * (@fan-out_limit - @count));

		.fan__inner {
			transform: translateX(150%) rotate(@fan-out_offset * (@fan-out_limit - @count));
		}
	}
}
.generate_fans();
